<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Join - Board</title>

    <!-- fonts -->
    <link rel="stylesheet" href="./fonts/figtree/styles.css">
    <link rel="stylesheet" href="./fonts/inter/styles.css">

    <!-- favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
    <link rel="manifest" href="favicon/site.webmanifest">
    <link rel="shortcut icon" href="favicon/favicon.ico">

    <!-- styles-->
    <link rel="stylesheet" href="./style/contacts.css">
    <link rel="stylesheet" href="./style/headerstyle.css">
    <link rel="stylesheet" href="./style/board.css">
    <link rel="stylesheet" href="./style/add_task.css">
    <link rel="stylesheet" href="./style/addtaskOverlay.css">
    <link rel="stylesheet" href="./style/boardResponsive.css">

    <script src="./scripts/w3include.js"></script>

    <style>
        #nav-board {
            background-image: url('./../IMGicons/headericons/iconBoardActive.svg');
            background-color: #091931;
            background-repeat: no-repeat;
        }
        a.active_board {
            color: var(--white);
        }
        .mobile-board {
            background-image: url(./../IMGicons/mobile_board_active.svg) !important;
            background-color: var(--deepest-grey);
            background-repeat: no-repeat;
            background-position: center 6px;
        }
        span.mobile {
            color: var(--white) !important;
        }
    </style>

</head>

<body onload="includeHTML()">
    <header w3-include-html="./html/header.html"></header>

    <div class="joinLogo"><a href="summary.html"><img class="joinLogo" src="IMGicons/join-logo.svg" alt="Join Logo"></a></div>
    
    <section class="main-content">
        <div class="flexhelper">
            <h1>Board</h1>
            <button id="addTaskMobile" onclick="openAddTaskOverlay(0)" class="addtaskbutton"><img src="./IMGicons/boardicons/add.svg" alt="Icon"></button>
        </div>
        <div class="addTaskForm">
            <form class="searchform" onsubmit="return false;">
              <div class="search-container">
                <input class="inputfieldfindtask" type="text" name="task" placeholder="Find Task">
                <div class="divider"></div>
                <div class="background-image" onclick="findTask()"></div>
              </div>
              <button id="addTaskDesktop" onclick="openAddTaskOverlay(0)" class="addtaskbutton">Add task <img src="./IMGicons/boardicons/add.svg" alt="Icon"></button>
            </form>
          </div>
    </section>

    <section id="laoding" class="laoding">
        <div id="spinner">
            <svg 
            class="spinner"
            x="0px" 
            y="0px" 
            viewBox="0 0 37 37" 
            height="37" 
            width="37" 
            preserveAspectRatio="xMidYMid meet"
        >
        <path 
            class="track" 
            fill="none" 
            stroke-width="5" 
            pathLength="100" d="M0.37 18.5 C0.37 5.772 5.772 0.37 18.5 0.37 S36.63 5.772 36.63 18.5 S31.228 36.63 18.5 36.63 S0.37 31.228 0.37 18.5">
        </path>
        <path 
            class="car" 
            fill="none" 
            stroke-width="5" 
                        pathLength="100" 
            d="M0.37 18.5 C0.37 5.772 5.772 0.37 18.5 0.37 S36.63 5.772 36.63 18.5 S31.228 36.63 18.5 36.63 S0.37 31.228 0.37 18.5">
        </path>
        </svg>
    </div>
    </section>

    <section class="boardsections">
       
        <div class="boardsection-mobile">
            <span class="boardsectiontext">To do</span>
            <img onclick="openAddTaskOverlay(1)" src="IMGicons/boardicons/plus button.svg" alt="">
        </div>
        <div class="progress-window">
            <div class="boardsection">
                <span class="boardsectiontext">To do</span>
                <img onclick="openAddTaskOverlay(1)" src="IMGicons/boardicons/plus button.svg" alt="">
            </div>
            <div class="sectionstodrop" id="todo" ondrop="moveTo('todo')" ondragover="allowDrop(event)" ondragenter="showDropIndicator(event)" ondragleave="hideDropIndicator(event)">
            </div>
        </div>
    
        <div class="boardsection-mobile">
            <span class="boardsectiontextdone">In progress</span>
            <img onclick="openAddTaskOverlay(2)" src="IMGicons/boardicons/plus button.svg" alt="">
        </div>
        <div class="progress-window">
            <div class="boardsection">
                <span class="boardsectiontextdone">In progress</span>
                <img onclick="openAddTaskOverlay(2)" src="IMGicons/boardicons/plus button.svg" alt="">
            </div>
            <div class="sectionstodrop" id="inprogress" ondrop="moveTo('inProgress')" ondragover="allowDrop(event)" ondragenter="showDropIndicator(event)" ondragleave="hideDropIndicator(event)">
            </div>
        </div>
    
        
        <div class="boardsection-mobile">
            <span class="boardsectiontextdone">Await feedback</span>
            <img onclick="openAddTaskOverlay(3)" src="IMGicons/boardicons/plus button.svg" alt="">
        </div>
        <div class="progress-window">
            <div class="boardsection">
                <span class="boardsectiontextdone">Await feedback</span>
                <img onclick="openAddTaskOverlay(3)" src="IMGicons/boardicons/plus button.svg" alt="">
            </div>
            <div class="sectionstodrop" id="awaitingfeedback" ondrop="moveTo('AwaitingFeedback')" ondragover="allowDrop(event)" ondragenter="showDropIndicator(event)" ondragleave="hideDropIndicator(event)">
            </div>
        </div>
     
        <div class="boardsection-mobile">
            <span class="boardsectiontextdone">Done</span>
        </div>
        <div class="progress-window">
            <div class="boardsection">
                <span class="boardsectiontextdone">Done</span>
            </div>
            <div class="sectionstodrop" id="done" ondrop="moveTo('done')" ondragover="allowDrop(event)" ondragenter="showDropIndicator(event)" ondragleave="hideDropIndicator(event)">   
            </div>
        </div>
    </section>

    <div onclick="" id="overlayforaddtask" class="overlayaddtask d-none">
        
        <div class="addtaskpopup">
            <div id="addtaskpopup">

            </div>
            <div id="overlayAddTask" class="overlay d-none"></div>
            </div>
        </div>
    </div>

    <div onclick="closeSingleTaskOverlay()" id="overlayforsingletask" class="overlaysingletask d-none">
        <div class="singletaskpopup" ></div>
    </div>

    <div id="toast-div" class="d-none">
        <div class="toast-text" id="toast-text"></div>
    </div>

    <div w3-include-html="html/menu-mobile.html"></div>

    <script src="./scripts/boardFunctions/board.js"></script>
    <script src="./scripts/checkValue.js"></script>
    <script src="./scripts/toastMsg.js"></script>
    <script src="./scripts/reloadPage.js"></script>
    <script src="./scripts/templateContactHTML/editContactForm.js"></script>
    <script src="./scripts/templateContactHTML/renderBigView.js"></script>
    <script src="./scripts/loadData.js"></script>
    <script src="./scripts/templateAddTaskHTML/addTaskContactForm.js"></script>
    <script src="./scripts/templateAddTaskHTML/addSingleTaskForm.js"></script>
    <script src="./scripts/templateBordHTML/renderProgress-original.js"></script>
    <script src="./scripts/header.js"></script>
    <script src="./scripts/infoTap.js"></script>

    <script>
        includeHTML();
    </script>

    <script>
        function isIPhoneSE() {
            const ua = navigator.userAgent;
            const screenWidth = window.screen.width;
            const screenHeight = window.screen.height;
            
            // Überprüft, ob es sich um ein iOS-Gerät handelt
            const isIOS = /iPhone|iPod/.test(ua) && !window.MSStream;
            
            // Überprüft die Bildschirmauflösung des iPhone SE (1. und 2. Generation)
            const isCorrectResolution = (screenWidth === 320 && screenHeight === 568) || 
                                        (screenWidth === 375 && screenHeight === 667);
            
            return isIOS && isCorrectResolution;
            }

            if (isIPhoneSE()) 
                setTimeout(function () {
            document.getElementById('footer-mobile').classList.add('iphone-se');
        }, 500); 
            
    </script>

</body>
</html>